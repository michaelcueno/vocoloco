<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Vocoloco</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="../docs/assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>
    <link href="../docs/assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../docs/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../docs/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../docs/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../docs/assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="index.html">VocoLoco</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="index.html">Overview</a></li>
              <li class="active"><a href="design.html">Design</a></li>
              <li><a href="instructions.html">instructions</a></li>
              <li><a href="../../html/index.html">Documentation</a></li>
              <li><a href="../../../VocoLoco/bin/VocoLoco.apk">Download</a></li>
              <li><a href="http://github.com/mcueno2/vocoloco">Source</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
 
 <!--Client -->

  <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">LocoClient</li>
              <li><a href="design.html">Overview</a></li>
              <li><a href="client/qml.html">QML</a></li>
              <li><a href="client/cpp.html">c++</a></li>
              <li><a href="client/jni.html">Media Player and Recorder with JNI</a></li>
            </ul>
          </div><!--/.well -->
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">LocoServer</li>
              <li class="active"><a href="server.html">Overview</a></li>
            </ul>
          </div><!--/.well -->
        </div><!--/span-->


        <div class="span9">
          <div class="hero-unit">
            <h1>LOCOSERVER</h1>
            <p>Vocoloco HTTP Server</p>
          </div>
          <div class="row-fluid">
            <div class="span8">
               <h2>Overview</h2>
               <p>Locoserver is the server component of the Vocoloco mobile application. It provides a RESTFUL API for adding, 
 					  creating, and deleting conversations and messages. It works on the principal of receiving structured XML from the 						 client and responds with structured XML or different codes.</p>
					  
					  <p>Like most Scala apps you use SBT, which is a build tool like Maven or Ant to Compile and handle dependencies.</p>
            </div><!--/span-->
          </div><!--/row-->
			 
			 
          <div class="row-fluid">
            <div class="span8">
              <h2>Architecture</h2>
				  <p>The application is hosted on Heroku. The DB is hosted on Amazon WS as well as the file server which user Amazon S3</p>
				  <h4>Server</h4>
              <p>Locoserver was coded in Scala using the Play! framework which follows the MVC pattern</p>
				  <img src="../img/mvc_diagram.png">
				  <h4>Database</h4>
              <p>Locoserver uses a Postgresql relational database hosted on amazon</p>
				  <img src="../img/schema.png">

            </div><!--/span-->
          </div><!--/row-->
			 
          <div class="row-fluid webapi">
            <div class="span8">
              <h2>Web Api</h2>
				  
				  
				  <h3>POST /login</h3>
              <p>Authenticate and create user session.</p>
				  
				  <h4>Payload</h4>
				  <p>Standard HTTP webform of type Application/x-wwwform-urlencoded</p>
				  <p>with fields username and password</p>
				  <h4>Response</h4>
				  <p class="text-success">200</p>
				  <p class="text-error">403</p>
				  <p class="text-error">404</p>
				  
				  <h3>GET  /logout</h3>
              <p>Destory authenticated user session.</p>
				  
				  <h4>Payload</h4>
				  <p>None</p>
				  <h4>Response</h4>
				  <p class="text-success">200</p>
				  
				  
				  <h3>GET /conversations</h3>
              <p>Returns an XML representation of all conversations an authenticated user belongs to.</p>
				  
				  <h4>Payload</h4>
				  <p>None</p>
				  <h4>Response</h4>
				  <img src="../img/convs_resp.png">
				  <p>None</p>
				  
				  <h3>GET /conversation/:id</h3>
              <p>Returns an XML representation of all messages in the conversation to an authenticated user that belongs the conversation.</p>
				  
				  <h4>Payload</h4>
				  <p>test</p>
				  <h4>Response</h4>
				  <img src="../img/conv_resp.png">
				  <p>test</p>
				  
				  <h3>POST /conversation</h3>
              <p>Create a new conversation with title and contacts that will be involved.</p>
				  
				  <h4>Payload</h4>
				  <p>&lt;message&gt;I am the message&lt;/message&gt;</p>
				  <h4>Response</h4>
				  <p>test</p>
				  
				  <h3>POST /conversation/respondtext/:id</h3>
              <p>Add text based message to a conversation that a user is a member of.</p>
				  
				  <h4>Payload</h4>
				  <p>&lt;conversation&gt;&lt;title&gt;I am the title&lt;/title&gt;&lt;contacts&gt;user1&lt;/contact&gt; &lt;contact&gt;user2&lt;/contact&gt; &lt;contact&gt;... &lt;/contact&gt; &lt;/contacts&gt; &lt;/conversation&gt;</p>
				  <h4>Response</h4>
				  <p class="text-success">200 and return the new ID of the conversation</p>
				  <p class="text-error">403</p>
				  <p class="text-error">404</p>
				  
				  
				  <h3>POST /conversation/respondaudio/:id</h3>
              <p>Add audio based message to a conversation that a user is a member of.</p>
				  
				  <h4>Payload</h4>
				  <p>In development</p>
				  <h4>Response</h4>
				  <p>In development</p>
				  
				  <h3>GET /conversation/delete/:id</h3>
              <p>Removes a conversation from only the user that made this call.</p>
				  
				  <h4>Payload</h4>
				  <p>None</p>
				  <h4>Response</h4>
				  <p class="text-success">200</p>
				  <p class="text-error">403</p>
				  <p class="text-error">404</p>
				  
				  
				  <h3>GET /contacts</h3>
              <p>Returns an XML representation of all contacts that belong to the authenticated user</p>
				  
				  <h4>Payload</h4>
				  <p>None</p>
				  <h4>Response</h4>
				  <p class="text-success">200</p>
				  <img src="../img/contacts.png">
				  <p class="text-error">403</p>
				  <p class="text-error">404</p>
				  
				  
            </div><!--/span-->
          </div><!--/row-->
			 
          <div class="row-fluid">
            <div class="span8">
              <h2>General Design Decisions</h2>
				  <p>We designed the user interface, database, and web-api beofre we started coding. This directly influenced what models and what controllers were needed.</p>

            </div><!--/span-->
          </div><!--/row-->
			 
			 
			 
			 
        </div><!--/span-->
      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; Vocoloco 2012</p>
      </footer>

    </div><!--/.fluid-container-->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../docs/assets/js/jquery.js"></script>
    <script src="../docs/assets/js/bootstrap-transition.js"></script>
    <script src="../docs/assets/js/bootstrap-alert.js"></script>
    <script src="../docs/assets/js/bootstrap-modal.js"></script>
    <script src="../docs/assets/js/bootstrap-dropdown.js"></script>
    <script src="../docs/assets/js/bootstrap-scrollspy.js"></script>
    <script src="../docs/assets/js/bootstrap-tab.js"></script>
    <script src="../docs/assets/js/bootstrap-tooltip.js"></script>
    <script src="../docs/assets/js/bootstrap-popover.js"></script>
    <script src="../docs/assets/js/bootstrap-button.js"></script>
    <script src="../docs/assets/js/bootstrap-collapse.js"></script>
    <script src="../docs/assets/js/bootstrap-carousel.js"></script>
    <script src="../docs/assets/js/bootstrap-typeahead.js"></script>

  </body>
</html>
